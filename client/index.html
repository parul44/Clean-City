<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Clean City</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" type="text/css" href="mapbox.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
     integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" 
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="main.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
</head>

<body>
    
    <header>
        <nav class="navbar navbar-expand-lg navbar-light " >
            
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent" >
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active ">
                  <a class="nav-link  " style="color:whitesmoke;font-size:1.1em;font-weight: bold;" href="index.html#home">HOME </a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link  " style="color:whitesmoke;font-size:1.1em;font-weight: bold;" href="form.html"> UPLOAD </a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link  " style="color:whitesmoke;font-size:1.1em;font-weight: bold;" href="index.html#viewReports"> VIEW REPORTS </a>
                  </li>
                <li class="nav-item active">
                    <a class="nav-link   " style="color:whitesmoke;font-size:1.1em;font-weight: bold;" href="about.html"> ABOUT </a>
                  </li>
                
              </ul>
              <ul class="navbar-nav navbar-right">
                <li class="nav-item active">
                  <a class="nav-link " style="color:whitesmoke;font-size:1.1em;font-weight: bold;" href="/login"> Login</a>
                </li>
              </ul>
             </div>
            <form action="form.html">
</form>
          </nav>
    </header>
<br>
<section id="home">
    <div id="poster">
        <div id="carousel" data-interval="2500" class="carousel slide" data-ride="carousel">
            
            <div class="carousel-inner">
              <div class="carousel-item active" >
                <img src="images/slides/04.jpg" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="images/slides/05.jpg" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="images/slides/04.jpg" class="d-block w-100" alt="...">
              </div>
            </div>
        </div>
      <div >
        <div class="cleancitytext" >Clean</div>
        <div class="cleancitytext2" >City<i class="fa fa-leaf" aria-hidden="true"></i></div>
            <div class="subtext">Lorem ipsum dolor sit amet
              <br> Sea et meliore maluisset consequuntur.
              <br> Aeque luptatum scribentur ex mel</div>
              <button id="explorebtn" onclick="window.location.href = 'form.html';">Upload Report</button>
      </div>
    </div>
  <section id="heatmap">
      <br><br>
          <h4 class="mainh4" style="text-align:center"> Live HeatMap of Reports</h4>
        <div class="mapcontainer">
        <nav id="menu"></nav>
        <div id='map'>
        </div>
      </div>
      <br><br><br>
  </section>

  <section id="latest">
  <br><br>
  <h4 class="mainh4" style="text-align:center;color:whitesmoke">Latest Reports</h4>
      <div class="gallery">
        <div class="item">
          <img src="" class="latest">
          <div class="middle">
            <div class="text1">No data</div>
            <div class="text2">No data</div>
          </div>
       </div>

        <div class="item">
                <img src="" class="latest">
                <div class="middle">
                  <div class="text1">No data</div>
                  <div class="text2">No data</div>
                </div>
        </div>
            <div class="item">
                    <img src="" class="latest">
                    <div class="middle">
                      <div class="text1">No data</div>
                      <div class="text2">No data</div>
                    </div>
            </div>
            <div class="item">
              <img src="" class="latest">
              <div class="middle">
                <div class="text1">No data</div>
                <div class="text2">No data</div>
              </div>
           </div>
           <div class="item">
                   <img src="" class="latest">
                   <div class="middle">
                    <div class="text1">No data</div>
                    <div class="text2">No data</div>
                  </div>
           </div>
               <div class="item">
                       <img src="" class="latest">
                       <div class="middle">
                        <div class="text1">No data</div>
                        <div class="text2">No data</div>
                      </div>
               </div>
    </div>
  </section>

  <section id="viewReports">
  <hr><br><br>
  <h4 class="mainh4" style="text-align:center;color:whitesmoke">View Category Wise Reports</h4>
  <div style="background-color: transparent">

            <div class="card-group text-center iconimg">
                <div class="card border border-info">
                  <img class="card-img-top" src="images/garbage.jpg" alt="Card image cap">
                  <div class="card-body">
                      <h4 style="color: #2b4d38" >Garbage</h4>
                      <p>Garbage/Sewage reports </p>
                      <button type="button" class="btn btn-secondary" onclick='window.location = "garbage.html"' >View Reports</button> </div>
                </div>
                <div class="card border border-info">
                  <img class="card-img-top" src="images/electricity.jpg" alt="Card image cap">
                  <div class="card-body">
                      <h4 style="color: #2b4d38">Electricity</h4>
                      <p>Electricity reports </p>
                      <button type="button" class="btn btn-secondary" onclick='window.location = "electricity.html"'>View Reports</button></div>
                </div>
                <div class="card border border-info">
                  <img class="card-img-top" src="images/water.jpg" alt="Card image cap">
                  <div class="card-body">
                      <h4 style="color: #2b4d38">Water</h4>
                      <p>Water reports </p>
                      <button type="button" class="btn btn-secondary" onclick='window.location = "water.html"'>View Reports</button>
                      </div>
                </div>
                <div class="card border border-info">
                    <img class="card-img-top" src="images/accident.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h4 style="color: #2b4d38">Road</h4>
                        <p>Road reports </p>
                        <button type="button" class="btn btn-secondary" onclick='window.location = "road.html"'>View Reports</button>
                     </div>
                  </div>
                  <div class="card border border-info">
                      <img class="card-img-top" src="images/crime.jpg" alt="Card image cap">
                      <div class="card-body">
                        <h4 style="color: #2b4d38">Crime</h4>
                           <p>Crime reports </p>
                           <button type="button" class="btn btn-secondary" onclick='window.location = "crime.html"'>View Reports</button>
              
                          </div>
                  </div>
                  <br><br><br>
  </section>
                    
              </div>
              </div>
</section>
    <footer class="footer-distributed">

      <div class="footer-left">

        <h3>Develop<span>HowTo</span></h3>

        <p class="footer-links">
          
          <a href="#">Garbage</a>
          路
          <a href="#">Electricity</a>
          路
          <a href="#">Water</a>
          路
          <a href="#">Road</a>
          路
          <a href="#">Crime</a>
        </p>

        <p class="footer-company-name">All Rights Reserved &copy; 2019</p>
        <br>
        <p class="footer-company-name">Made with Love in India</p>
      </div>

      <div class="footer-center">

        <div>
          <i class="fa fa-map-marker"></i>
          <p><span>Address line 1</span> Address line 2</p>
        </div>

        <div>
          <i class="fa fa-phone"></i>
          <p>phone number </p>
        </div>

        <div>
          <i class="fa fa-envelope"></i>
          <p><a href="https://develophowto.com/">https://develophowto.com/</a></p>
        </div>

      </div>

      <div class="footer-right">

        <p class="footer-company-about">
          <span>About the company</span>
          We deal with all type of issues. You can lodge your complaints here. Join us to make everyone aware.
        </p>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <div class="footer-icons">

          <a href="https://www.facebook.com" ><i class="fa fa-1x fa-facebook-square "></i></a>
          <a href="https://www.twitter.com" ><i class="fa fa-1x fa-twitter-square"></i></a>
          <a href="https://www.linkedin.com"><i class="fa fa-linkedin"></i></a>
          <a href="https://www.google.com" ><i class="fa fa-1x fa-google-plus"></i></a>

        </div>
      </div>
    </footer>
   <!-- mapbox script -->
    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoiZXJyYWh1bDkzIiwiYSI6ImNqdW8wemlxODJwNzUzeXFqbnVibHZzYzUifQ.bZKWernpF2H1uvOVNp4DOA';
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/dark-v10',
        center: [77.146721,28.644800],
        zoom: 11
      });
      
      map.on('load', function() {

        //ADDING LAYER SOURCES
        map.addSource('Sample', {
          type: 'geojson',
          data: 'sampleJson.geojson'
        });

        map.addSource('Road', {
        type: 'geojson',
        data: '/user/geojson/road?user=public'
        });

        map.addSource('Garbage', {
        type: 'geojson',
        data: '/user/geojson/garbage?user=public'
        });

        map.addSource('Water', {
        type: 'geojson',
        data: '/user/geojson/water?user=public'
        });

        map.addSource('Electricity', {
        type: 'geojson',
        data: '/user/geojson/electricity?user=public'
        });

        map.addSource('Crime', {
        type: 'geojson',
        data: '/user/geojson/crime?user=public'
        });

        
        //ADDING  HEATMAP LAYERS
        map.addLayer({
          id: 'Sample-heat',
          type: 'heatmap',
          source: 'Sample',
          maxzoom: 15,
          paint: {
            // increase weight as diameter breast height increases
            'heatmap-weight': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [1, 0],
                [62, 1]
              ]
            },
            // increase intensity as zoom level increases
            'heatmap-intensity': {
              stops: [
                [11, 1],
                [15, 3]
              ]
            },
            // assign color values be applied to points depending on their density
            'heatmap-color': [
              'interpolate',
              ['linear'],
              ['heatmap-density'],
              0, "rgba(33,102,172,0)",
              0.2, "rgb(103,169,207)",
              0.4, "rgb(209,229,240)",
              0.6, "rgb(253,219,199)",
              0.8, "rgb(239,138,98)",
              1, "rgb(178,24,43)"
            ],
            // increase radius as zoom increases
            'heatmap-radius': {
              stops: [
                [11, 15],
                [15, 20]
              ]
            },
            // decrease opacity to transition into the circle layer
            'heatmap-opacity': {
              default: 1,
              stops: [
                [14, 1],
                [15, 0]
              ]
            },
          }
        }, 'waterway-label');
  
        map.addLayer({
        id: 'Road-heat',
        type: 'heatmap',
        source: 'Road',
        maxzoom: 15,
        paint: {
          // increase weight as diameter breast height increases
          'heatmap-weight': {
            property: 'dbh',
            type: 'exponential',
            stops: [
              [1, 0],
              [62, 1]
            ]
          },
          // increase intensity as zoom level increases
          'heatmap-intensity': {
            stops: [
              [11, 1],
              [15, 3]
            ]
          },
          // assign color values be applied to points depending on their density
          'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, 'rgba(236,222,239,0)',
            0.2, 'rgb(208,209,230)',
            0.4, 'rgb(166,189,219)',
            0.6, 'rgb(103,169,207)',
            0.8, 'rgb(28,144,153)'
          ],
          // increase radius as zoom increases
          'heatmap-radius': {
            stops: [
              [11, 15],
              [15, 20]
            ]
          },
          // decrease opacity to transition into the circle layer
          'heatmap-opacity': {
            default: 1,
            stops: [
              [14, 1],
              [15, 0]
            ]
          },
        }
      }, 'waterway-label');

        map.addLayer({
        id: 'Garbage-heat',
        type: 'heatmap',
        source: 'Garbage',
        maxzoom: 15,
        paint: {
          // increase weight as diameter breast height increases
          'heatmap-weight': {
            property: 'dbh',
            type: 'exponential',
            stops: [
              [1, 0],
              [62, 1]
            ]
          },
          // increase intensity as zoom level increases
          'heatmap-intensity': {
            stops: [
              [11, 1],
              [15, 3]
            ]
          },
          // assign color values be applied to points depending on their density
          'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, "rgba(33,102,172,0)",
            0.2, "rgb(103,169,207)",
            0.4, "rgb(209,229,240)",
            0.6, "rgb(253,219,199)",
            0.8, "rgb(239,138,98)",
            1, "rgb(178,24,43)"
          ],
          // increase radius as zoom increases
          'heatmap-radius': {
            stops: [
              [11, 15],
              [15, 20]
            ]
          },
          // decrease opacity to transition into the circle layer
          'heatmap-opacity': {
            default: 1,
            stops: [
              [14, 1],
              [15, 0]
            ]
          },
        }
      }, 'waterway-label');

        map.addLayer({
        id: 'Water-heat',
        type: 'heatmap',
        source: 'Water',
        maxzoom: 15,
        paint: {
          // increase weight as diameter breast height increases
          'heatmap-weight': {
            property: 'dbh',
            type: 'exponential',
            stops: [
              [1, 0],
              [62, 1]
            ]
          },
          // increase intensity as zoom level increases
          'heatmap-intensity': {
            stops: [
              [11, 1],
              [15, 3]
            ]
          },
          // assign color values be applied to points depending on their density
          'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, "rgba(33,102,172,0)",
            0.2, "rgb(103,169,207)",
            0.4, "rgb(209,229,240)",
            0.6, "rgb(253,219,199)",
            0.8, "rgb(239,138,98)",
            1, "rgb(178,24,43)"
          ],
          // increase radius as zoom increases
          'heatmap-radius': {
            stops: [
              [11, 15],
              [15, 20]
            ]
          },
          // decrease opacity to transition into the circle layer
          'heatmap-opacity': {
            default: 1,
            stops: [
              [14, 1],
              [15, 0]
            ]
          },
        }
      }, 'waterway-label');

        map.addLayer({
        id: 'Electricity-heat',
        type: 'heatmap',
        source: 'Electricity',
        maxzoom: 15,
        paint: {
          // increase weight as diameter breast height increases
          'heatmap-weight': {
            property: 'dbh',
            type: 'exponential',
            stops: [
              [1, 0],
              [62, 1]
            ]
          },
          // increase intensity as zoom level increases
          'heatmap-intensity': {
            stops: [
              [11, 1],
              [15, 3]
            ]
          },
          // assign color values be applied to points depending on their density
          'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, "rgba(33,102,172,0)",
            0.2, "rgb(103,169,207)",
            0.4, "rgb(209,229,240)",
            0.6, "rgb(253,219,199)",
            0.8, "rgb(239,138,98)",
            1, "rgb(178,24,43)"
          ],
          // increase radius as zoom increases
          'heatmap-radius': {
            stops: [
              [11, 15],
              [15, 20]
            ]
          },
          // decrease opacity to transition into the circle layer
          'heatmap-opacity': {
            default: 1,
            stops: [
              [14, 1],
              [15, 0]
            ]
          },
        }
      }, 'waterway-label');

        map.addLayer({
        id: 'Crime-heat',
        type: 'heatmap',
        source: 'Crime',
        maxzoom: 15,
        paint: {
          // increase weight as diameter breast height increases
          'heatmap-weight': {
            property: 'dbh',
            type: 'exponential',
            stops: [
              [1, 0],
              [62, 1]
            ]
          },
          // increase intensity as zoom level increases
          'heatmap-intensity': {
            stops: [
              [11, 1],
              [15, 3]
            ]
          },
          // assign color values be applied to points depending on their density
          'heatmap-color': [
            'interpolate',
            ['linear'],
            ['heatmap-density'],
            0, "rgba(33,102,172,0)",
            0.2, "rgb(103,169,207)",
            0.4, "rgb(209,229,240)",
            0.6, "rgb(253,219,199)",
            0.8, "rgb(239,138,98)",
            1, "rgb(178,24,43)"
          ],
          // increase radius as zoom increases
          'heatmap-radius': {
            stops: [
              [11, 15],
              [15, 20]
            ]
          },
          // decrease opacity to transition into the circle layer
          'heatmap-opacity': {
            default: 1,
            stops: [
              [14, 1],
              [15, 0]
            ]
          },
        }
      }, 'waterway-label');


        //ADDING  POINTS LAYERS
        map.addLayer({
          id: 'Sample-point',
          type: 'circle',
          source: 'Sample',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 1,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');
        
        map.addLayer({
          id: 'Road-point',
          type: 'circle',
          source: 'Road',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 2,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');

        map.addLayer({
          id: 'Garbage-point',
          type: 'circle',
          source: 'Garbage',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 2,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');
        
        map.addLayer({
          id: 'Water-point',
          type: 'circle',
          source: 'Water',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 2,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');
        
        map.addLayer({
          id: 'Electricity-point',
          type: 'circle',
          source: 'Electricity',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 2,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');
        
        map.addLayer({
          id: 'Crime-point',
          type: 'circle',
          source: 'Crime',
          minzoom: 14,
          paint: {
            // increase the radius of the circle as the zoom level and dbh value increases
            'circle-radius': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [{ zoom: 15, value: 1 }, 5],
                [{ zoom: 15, value: 62 }, 10],
                [{ zoom: 22, value: 1 }, 20],
                [{ zoom: 22, value: 62 }, 50],
              ]
            },
            'circle-color': {
              property: 'dbh',
              type: 'exponential',
              stops: [
                [0, 'rgba(236,222,239,0)'],
                [10, 'rgb(236,222,239)'],
                [20, 'rgb(208,209,230)'],
                [30, 'rgb(166,189,219)'],
                [40, 'rgb(103,169,207)'],
                [50, 'rgb(28,144,153)'],
                [60, 'rgb(1,108,89)']
              ]
            },
            'circle-stroke-color': 'white',
            'circle-stroke-width': 2,
            'circle-opacity': {
              stops: [
                [14, 0],
                [15, 1]
              ]
            }
          }
        }, 'waterway-label');

        //On clicking point layers
        var pointLayerIds = [ 'Sample-point','Garbage-point', 'Road-point', 'Water-point', 'Electricity-point', 'Crime-point' ];
        
        pointLayerIds.forEach(function(layer) {
          // Popup on click
          map.on('click', `${layer}`, function(e) {
            new mapboxgl.Popup()
              .setLngLat(e.features[0].geometry.coordinates)
              .setHTML('<b>'+`${layer}`+'</b><br>'+ e.features[0].properties.brief.slice(0,33) + '<br>'
              + e.features[0].properties.brief.slice(33,66) + '<br>'
              + e.features[0].properties.brief.slice(66,100))
              .addTo(map);
          });

          // Change the cursor to a pointer when the mouse is over the places layer.
          map.on('mouseenter', `${layer}` , function () {
            map.getCanvas().style.cursor = 'pointer';
          });
          
          // Change it back to a pointer when it leaves.
          map.on('mouseleave',  `${layer}` , function () {
            map.getCanvas().style.cursor = '';
          });
        });

    }); 

    //LAYER TOGGLE MENU
    var toggleableLayerIds = [ ['Sample-heat', 'Sample-point'],['Garbage-heat', 'Garbage-point'], ['Road-heat', 'Road-point'], ['Water-heat', 'Water-point'], ['Electricity-heat', 'Electricity-point'], ['Crime-heat', 'Crime-point'] ];

    for (var i = 0; i < toggleableLayerIds.length; i++) {
      
      var link = document.createElement('a');
      link.href = '#';
      link.className = 'active';
      link.textContent = toggleableLayerIds[i][0];
      link.layers= toggleableLayerIds[i];
        
      link.onclick = function (e) {
        this.layers.forEach((layer) => {
          var clickedLayer = layer;
          e.preventDefault();
          e.stopPropagation();
            
          var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
            
          if (visibility === 'visible') {
            map.setLayoutProperty(clickedLayer, 'visibility', 'none');
            this.className = '';
          } else {
            this.className = 'active';
            map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
          }
        });
      };
        
      var layers = document.getElementById('menu');
      layers.appendChild(link);
    }
    
    </script>
    <!-- fetching latest6 reports script -->
    <script>
      fetch('/user/reports?user=public&limit=6&sortBy=createdAt:desc')
      .then(res => {
        res.json().then(data => {

          latest6 = document.getElementsByClassName("latest");
          text1 = document.getElementsByClassName("text1");
          text2 = document.getElementsByClassName("text2");
          length=data.length;
          for(i=0;i<length;i++){
            latest6[i].src=`/user/image/${data[i]._id}`
            text1[i].innerHTML = `${data[i].results.locality} , ${data[i].results.district}`
            date= new Date(data[i].createdAt)
            text2[i].innerHTML = `${date.toLocaleString()}`
          }
          
        });
      }).catch(console.log());
      
    </script>
  </body>
  
</body>
</html>
